<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiralık Tarlalar - Kulu Emlak Pazarı</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e67e22;
            --accent-color: #3498db;
            --light-bg: #f8f9fa;
            --dark-bg: #1a1a1a;
            --gradient-primary: linear-gradient(135deg, #e67e22 0%, #f1c40f 100%);
            --gradient-secondary: linear-gradient(135deg, #f1c40f 0%, #e67e22 100%);
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
            --font-heading: 'Poppins', sans-serif;
            --font-body: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap');
        body {
            font-family: var(--font-body);
            background-color: var(--light-bg);
            color: var(--primary-color);
        }
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            box-shadow: var(--shadow-sm);
        }
        .navbar-brand {
            font-family: var(--font-heading);
            font-weight: 600;
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        .nav-link {
            font-weight: 500;
            color: var(--primary-color);
            margin: 0 0.5rem;
        }
        .nav-link.active {
            color: var(--secondary-color);
        }
        .page-header {
            background: var(--gradient-primary);
            padding: 100px 0 50px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80') center/cover;
            opacity: 0.1;
        }
        .page-title {
            font-family: var(--font-heading);
            font-size: 3rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        .page-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .property-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            margin-bottom: 30px;
        }
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        .property-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        .property-content {
            padding: 1.5rem;
        }
        .property-title {
            font-family: var(--font-heading);
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        .property-location {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        .property-price {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }
        .property-btn {
            background: var(--gradient-primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            transition: var(--transition);
            border: none;
            width: 100%;
            text-align: center;
        }
        .property-btn:hover {
            background: var(--gradient-secondary);
            color: white;
            transform: translateY(-2px);
        }
        .filters {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 30px;
        }
        .filter-title {
            font-family: var(--font-heading);
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        .form-label {
            font-weight: 500;
            color: var(--primary-color);
        }
        .form-select, .form-control {
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 0.75rem;
        }
        .form-select:focus, .form-control:focus {
            border-color: var(--accent-color);
            box-shadow: none;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html">Kulu Emlak Pazarı</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Ana Sayfa</a></li>
                    <li class="nav-item"><a class="nav-link" href="satilik-evler.html">Satılık Evler</a></li>
                    <li class="nav-item"><a class="nav-link" href="satilik-arsalar.html">Satılık Arsalar</a></li>
                    <li class="nav-item"><a class="nav-link" href="satilik-isyerleri.html">Satılık İşyerleri</a></li>
                    <li class="nav-item"><a class="nav-link active" href="kiralik-tarlalar.html">Kiralık Tarlalar</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Page Header -->
    <header class="page-header">
        <div class="container">
            <h1 class="page-title" data-aos="fade-up">Kiralık Tarlalar</h1>
            <p class="page-subtitle" data-aos="fade-up" data-aos-delay="200">Kulu ve çevresinde kiralık tarla ilanları</p>
        </div>
    </header>
    <!-- Main Content -->
    <main class="container py-5">
        <div class="row">
            <!-- Filters -->
            <div class="col-lg-3">
                <div class="filters" data-aos="fade-right">
                    <h3 class="filter-title">Filtreler</h3>
                    <form id="filter-form">
                        <div class="mb-3">
                            <label class="form-label">Kira Bedeli</label>
                            <select class="form-select" id="fiyat">
                                <option value="">Tümü</option>
                                <option value="0-2000">0 - 2.000 TL</option>
                                <option value="2000-4000">2.000 - 4.000 TL</option>
                                <option value="4000-6000">4.000 - 6.000 TL</option>
                                <option value="6000-">6.000 TL ve üzeri</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Mahalle</label>
                            <select class="form-select" id="mahalle">
                                <option value="">Tümü</option>
                                <option value="acikuyu">AÇIKUYU MAHALLESİ</option>
                                <option value="alparslan">ALPARSLAN MAHALLESİ</option>
                                <option value="altilar">ALTILAR MAHALLESİ</option>
                                <option value="arsinci">ARŞINCI MAHALLESİ</option>
                                <option value="bahadirli">BAHADIRLI MAHALLESİ</option>
                                <option value="beskardes">BEŞKARDEŞ MAHALLESİ</option>
                                <option value="bozan">BOZAN MAHALLESİ</option>
                                <option value="burunagil">BURUNAĞIL MAHALLESİ</option>
                                <option value="camikebir">CAMİKEBİR MAHALLESİ</option>
                                <option value="canimana">CANIMANA MAHALLESİ</option>
                                <option value="celep">CELEP MAHALLESİ</option>
                                <option value="cumhuriyet">CUMHURİYET MAHALLESİ</option>
                                <option value="degirmenozu">DEĞİRMENÖZÜ MAHALLESİ</option>
                                <option value="dinek">DİNEK MAHALLESİ</option>
                                <option value="dipdede">DİPDEDE MAHALLESİ</option>
                                <option value="dogutepe">DOĞUTEPE MAHALLESİ</option>
                                <option value="fatih">FATİH SULTAN MEHMET MAHALLESİ</option>
                                <option value="fevziye">FEVZİYE MAHALLESİ</option>
                                <option value="gokler">GÖKLER MAHALLESİ</option>
                                <option value="guzelyayla">GÜZELYAYLA MAHALLESİ</option>
                                <option value="hisarkoy">HİSARKÖY MAHALLESİ</option>
                                <option value="karacadag">KARACADAĞ MAHALLESİ</option>
                                <option value="karacadere">KARACADERE MAHALLESİ</option>
                                <option value="karapinar">KARAPINAR MAHALLESİ</option>
                                <option value="karsiyaka">KARŞIYAKA MAHALLESİ</option>
                                <option value="kemaliye">KEMALİYE MAHALLESİ</option>
                                <option value="kirkkuyu">KIRKKUYU MAHALLESİ</option>
                                <option value="kirkpinar">KIRKPINAR MAHALLESİ</option>
                                <option value="kozanli">KOZANLI MAHALLESİ</option>
                                <option value="komusini">KÖMÜŞİNİ MAHALLESİ</option>
                                <option value="kostengil">KÖSTENGİL MAHALLESİ</option>
                                <option value="kosker">KÖŞKER MAHALLESİ</option>
                                <option value="mandira">MANDIRA MAHALLESİ</option>
                                <option value="omeranli">ÖMERANLI MAHALLESİ</option>
                                <option value="sariyayla">SARIYAYLA MAHALLESİ</option>
                                <option value="seyitahmetli">SEYİTAHMETLİ MAHALLESİ</option>
                                <option value="sogukkuyu">SOĞUKKUYU MAHALLESİ</option>
                                <option value="serefli">ŞEREFLİ MAHALLESİ</option>
                                <option value="tavlioren">TAVLIÖREN MAHALLESİ</option>
                                <option value="tuzyaka">TUZYAKA MAHALLESİ</option>
                                <option value="yarasli">YARAŞLI MAHALLESİ</option>
                                <option value="yazicayir">YAZIÇAYIR MAHALLESİ</option>
                                <option value="yeni">YENİ MAHALLESİ</option>
                                <option value="yesiltepe">YEŞİLTEPE MAHALLESİ</option>
                                <option value="yesilyurt">YEŞİLYURT MAHALLESİ</option>
                                <option value="zincirlikuyu">ZİNCİRLİKUYU MAHALLESİ</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Filtrele</button>
                    </form>
                </div>
            </div>
            <!-- Property Listings -->
            <div class="col-lg-9">
                <div class="row" id="property-list"></div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module">
        AOS.init({ duration: 1000, once: true });
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
        const supabaseUrl = 'VITE_SUPABASE_URL'; // .env'den alınacak şekilde değiştirin
        const supabaseKey = 'VITE_SUPABASE_ANON_KEY';
        const supabase = createClient(supabaseUrl, supabaseKey);
        // Filtreleme fonksiyonu
        async function fetchTarlalar() {
            const mahalle = document.getElementById('mahalle').value;
            const fiyat = document.getElementById('fiyat').value;
            let query = supabase.from('ilanlar').select('*').ilike('kategori', '%kiralik tarla%');
            if (mahalle) query = query.ilike('mahalle', `%${mahalle}%`);
            if (fiyat) {
                const [min, max] = fiyat.split('-');
                if (min) query = query.gte('fiyat', Number(min));
                if (max) query = query.lte('fiyat', Number(max));
            }
            const { data, error } = await query;
            const list = document.getElementById('property-list');
            list.innerHTML = '';
            if (error) {
                list.innerHTML = `<div class='text-danger'>Bir hata oluştu: ${error.message}</div>`;
                return;
            }
            if (!data || data.length === 0) {
                list.innerHTML = '<div>Sonuç bulunamadı.</div>';
                // Örnek ilanlar:
                const ornekler = [
                  {
                    baslik: 'Geniş Kiralık Tarla',
                    mahalle: 'Cumhuriyet Mahallesi',
                    fiyat: '3.000',
                    img: 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
                  },
                  {
                    baslik: 'Sulak Arazi',
                    mahalle: 'Yeni Mahalle',
                    fiyat: '4.500',
                    img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
                  },
                  {
                    baslik: 'Verimli Tarla',
                    mahalle: 'Fatih Sultan Mehmet Mahallesi',
                    fiyat: '2.200',
                    img: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
                  }
                ];
                ornekler.forEach(ilan => {
                  const card = document.createElement('div');
                  card.className = 'col-md-6';
                  card.innerHTML = `
                    <div class="property-card" data-aos="fade-up">
                        <img src="${ilan.img}" alt="${ilan.baslik}" class="property-image">
                        <div class="property-content">
                            <h3 class="property-title">${ilan.baslik}</h3>
                            <p class="property-location"><i class="fas fa-map-marker-alt"></i> ${ilan.mahalle}</p>
                            <div class="property-price">${ilan.fiyat} TL</div>
                            <a href="#" class="property-btn">İncele</a>
                        </div>
                    </div>
                  `;
                  list.appendChild(card);
                });
                return;
            }
            data.forEach(ilan => {
                const img = (ilan.media || '').split(',')[0]?.trim() || 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80';
                const card = document.createElement('div');
                card.className = 'col-md-6';
                card.innerHTML = `
                    <div class="property-card" data-aos="fade-up">
                        <img src="${img}" alt="${ilan.baslik}" class="property-image">
                        <div class="property-content">
                            <h3 class="property-title">${ilan.baslik}</h3>
                            <p class="property-location"><i class="fas fa-map-marker-alt"></i> ${ilan.mahalle}</p>
                            <div class="property-price">${ilan.fiyat} TL</div>
                            <a href="#" class="property-btn">İncele</a>
                        </div>
                    </div>
                `;
                list.appendChild(card);
            });
        }
        document.getElementById('filter-form').addEventListener('submit', function(e) {
            e.preventDefault();
            fetchTarlalar();
        });
        fetchTarlalar();
    </script>
</body>
</html> 